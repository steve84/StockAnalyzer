-- Created at 04.07.2017

-- SMI
insert into tindex (name, country_id)
    select 'SMI', country_id from tcountry where code = 'ch';
insert into tstockindex (stock_id, index_id)
    select stock_id, (select index_id from tindex where name = 'SMI') from tstock where isin in ('CH0038863350','CH0012032048','CH0012005267','CH0244767585','CH0012138530','CH0012221716','CH0126881561','CH0011075394','CH0210483332','CH0013841017','CH0030170408','CH0012214059','CH0000587979','CH0012255151','CH0014852781','CH0010645932','CH0002497458','CH0102484968','CH0008742519','CH0012138605');

-- SPI
insert into tindex (name, country_id)
    select 'SPI', country_id from tcountry where code = 'ch';
insert into tstockindex (stock_id, index_id)
    select stock_id, (select index_id from tindex where name = 'SPI') from tstock where isin in ('CH0012221716','CH0012138605','CH0008967926','CH0029850754','CH0012488190','CH0010947627','CH0242606942','CH0008837566','CH0024590272','AT0000A18XM4','CH0019107025','CH0110240600','CH0002271010','CH0043238366','CH0011339204','CH0127480363','CH0102484968','CH0012410517','CH0012530207','CH0009002962','CH0028422100','CH0018116472','CH0350494719','CH0025536027','CH0350665672','CH0015251710','CH0001503199','CH0009691608','CH0315966322','CH0130293662','CH0018206117','CH0001473559','CH0012684657','CH0238627142','CH0002492293','CH0212255803','CH0009236461','CH0011432447','CH0002432174','CH0008207356','CH0126639464','CH0210483332','CH0014345117','CH0008702190','CH0001625810','CH0012142631','CH0025343259','CH0011115703','CH0225173167','CH0244017502','NL0011832936','CH0360826991','CH0001931853','CH0001624714','CH0012138530','CH0030486770','CH0126673539','CH0011795959','CH0023405456','CH0022268228','CH0005319162','CH0012829898','CH0016440353','CH0024736404','CH0021218067','CH0319416936','CH0001752309','CH0003541510','CH0009320091','CH0360674466','CH0102659627','CH0011003594','CH0004870942','CH0030170408','CH0010645932','CH0189396655','CH0012949464','CH0001340204','CH0008012236','CH0001341608','CH0012271687','CH0239518779','CH0003583256','CH0024666528','CH0025607331','CH0030380734','CH0004647951','CH0363463438','CH0011029946','CH0023868554','CH0006372897','CH0325094297','CH0273774791','CH0017875789','CH0100837282','CH0025238863','CH0010702154','AT0000820659','CH0012268360','CH0325814116','CH0110303119','CH0022427626','CH0190891181','CH0012214059','CH0001307757','CH0010570759','CH0010570767','LI0355147575','NL0010733960','CH0025751329','CH0013841017','CH0011693600','GG00B247Y973','CH0108503795','CH0039542854','CH0039821084','CH0003390066','CH0011108872','CH0256379097','CH0276837694','CH0019624805','CH0038863350','CH0012005267','IT0004147952','CH0038285679','CH0000816824','CH0003420806','CH0111677362','CH0021783391','CH0118530366','CH0252620700','CH0006089921','CH0024608827','CH0284142913','CH0002187810','CH0009115129','CH0018294154','CH0002168083','CH0003671440','CH0012032048','CH0003245351','CH0009062099','CH0027148649','CH0024638212','CH0024638196','CH0008742519','CH0032816131','CH0239229302','CH0014284498','CH0011484067','CH0002497458','IL0010855885','CH0000587979','IT0005108359','CH0014852781','CH0001319265','CH0012549785','CH0009153310','CH0008038389','CH0010675863','CH0267291224','CH0126881561','CH0002361068','CH0005795668','CH0012280076','CH0002277314','CH0038388911','CH0010754924','CH0011178255','CH0012100191','CH0012453913','CH0214706357','CH0231351104','CH0011607683','CH0244767585','CH0033361673','CH0012255151','CH0012255144','CH0311864901','CH0021545667','CH0002088976','CH0305285295','CH0014786500','CH0187624256','CH0006227612','CH0364749348','CH0002609656','CH0367427686','CH0012335540','LI0315487269','CH0028200837','CH0002619481','CH0314029270','CH0305951201','CH0208062627','CH0019396990','CH0276534614','CH0001308904','CH0312309682','CH0148052126','CH0011075394','CH0002661731');

-- SMIM
insert into tindex (name, country_id)
    select 'SMIM', country_id from tcountry where code = 'ch';
insert into tstockindex (stock_id, index_id)
    select stock_id, (select index_id from tindex where name = 'SMIM') from tstock where isin in ('AT0000A18XM4','CH0043238366','CH0012410517','CH0009002962','CH0012142631','CH0126673539','CH0011795959','CH0023405456','CH0016440353','CH0319416936','CH0001752309','CH0102659627','CH0012271687','CH0025238863','CH0010570759','CH0010570767','CH0025751329','CH0000816824','CH0024608827','CH0018294154','CH0024638212','CH0024638196','CH0012549785','CH0008038389','CH0267291224','CH0012280076','CH0038388911','CH0012453913','CH0012255144','CH0364749348');

-- SLI
insert into tindex (name, country_id)
    select 'SLI', country_id from tcountry where code = 'ch';
insert into tstockindex (stock_id, index_id)
    select stock_id, (select index_id from tindex where name = 'SLI') from tstock where isin in ('CH0012221716','CH0012138605','CH0043238366','CH0102484968','CH0012410517','CH0210483332','CH0012142631','CH0012138530','CH0023405456','CH0030170408','CH0010645932','CH0025238863','CH0012214059','CH0010570759','CH0013841017','CH0038863350','CH0012005267','CH0024608827','CH0012032048','CH0024638196','CH0008742519','CH0002497458','CH0000587979','CH0014852781','CH0012549785','CH0126881561','CH0244767585','CH0012255151','CH0364749348','CH0011075394');

-- DAX
insert into tindex (name, country_id)
    select 'DAX', country_id from tcountry where code = 'de';
insert into tstockindex (stock_id, index_id)
    select stock_id, (select index_id from tindex where name = 'DAX') from tstock where isin in ('DE000CBK1001','DE0005140008','DE0007100000','DE000BAY0017','DE0007664039','DE0008232125','DE000ENAG999','DE0005557508','DE000BASF111','DE0006231004','DE0008404005','DE0007500001','DE0007164600','DE0007236101','DE0007037129','DE000PSM7770','DE0005190003','DE0005552004','DE000A1EWWW0','DE0008430026','DE000A1ML7J1','DE0005785604','DE0005439004','DE0006599905','DE0006483001','DE0006048432','DE0005785802','DE0006047004','DE0005810055','DE0005200000');

-- MDAX
insert into tindex (name, country_id)
    select 'MDAX', country_id from tcountry where code = 'de';
insert into tstockindex (stock_id, index_id)
    select stock_id, (select index_id from tindex where name = 'MDAX') from tstock where isin in ('DE000KSAG888','DE000SHA0159','DE000UNSE018','DE0007493991','DE0007297004','DE0008019001','NL0000235190','DE000ZAL1111','DE0005408116','DE0005408884','DE0005470405','DE0006062144','DE000LED4000','DE0007251803','DE000EVNK013','DE0005909006','DE000A1PHFF7','DE0006602006','DE000A2AADD2','DE0007030009','DE0005772206','DE0006202005','DE0005790430','DE0005565204','NL0011375019','DE000A13SX22','LU0061462528','DE0006766504','DE0007257503','DE000WCH8881','DE000KGX8881','DE0007480204','DE0006219934','DE0008303504','DE0005773303','DE0006335003','DE000A0HN5C6','DE000TLX1005','DE0008402215','DE000A0D9PT0','DE0005501357','DE000A0LD2U1','DE000SYM9999','DE0007010803','DE000LEG1110','DE0006070006','DE0005470306','DE000A1H8BV3','DE000A0LD6E6','DE000A1DAHH0');

-- SDAX
insert into tindex (name, country_id)
    select 'SDAX', country_id from tcountry where code = 'de';
insert into tstockindex (stock_id, index_id)
    select stock_id, (select index_id from tindex where name = 'SDAX') from tstock where isin in ('DE0007314007','DE000A12UKK6','DE0007235301','DE000A0DNAY5','DE000KC01000','DE0005493092','DE000VTG9999','DE0007231326','DE0005493365','DE000A1X3XX4','DE0006095003','DE000A1X3X33','DE0006305006','DE0006569908','DE000PAT1AG3','DE0007074007','DE0003304101','LU0307018795','DE0005895403','DE0006013006','DE000A12B8Z4','DE0006200108','DE0005232805','DE0007856023','DE0007193500','DE0007507501','DE000A1TNUT7','DE0005227235','DE000WACK012','DE0008051004','DE000A0S8488','DE0005093108','DE000TCAG172','DE000A161N30','DE0005194062','DE0005111702','DE0005008007','LU0775917882','DE0006083405','DE000HLAG475','LU1250154413','DE0005403901','DE0006969603','DE0005878003','DE000A0CAYB2','DE000A12DM80','DE0007446007','DE0007042301','LU1066226637','DE0007667107');

-- TecDAX
insert into tindex (name, country_id)
    select 'TecDAX', country_id from tcountry where code = 'de';
insert into tstockindex (stock_id, index_id)
    select stock_id, (select index_id from tindex where name = 'TecDAX') from tstock where isin in ('DE000A0D6554','DE0005664809','DE000A0WMPJ6','DE0007472060','DE000WAF3001','DE000A1X3W00','DE0006632003','GB0059822006','DE0005103006','DE000A0Z2ZZ5','AT0000A0E9W5','DE0005089031','DE0005545503','DE0005800601','DE000A111338','DE000A0DJ6J9','DE0006229107','DE000A1J5RX9','NL0012169213','DE0007165631','DE000A0Z2XN6','DE0006916604','DE0005419105','DE0005437305','DE0005158703','DE0005313704','DE0006452907','DE000XNG8888','DE0005550636','DE0003304002');

-- CDAX
insert into tindex (name, country_id)
    select 'CDAX', country_id from tcountry where code = 'de';
insert into tstockindex (stock_id, index_id)
    select stock_id, (select index_id from tindex where name = 'CDAX') from tstock where isin in ('DE000CBK1001','DE0005140008','DE0007100000','DE0007664039','DE000A0D6554','DE000BAY0017','DE000ENAG999','DE0008232125','DE0005664809','DE0005557508','DE0007500001','DE0008404005','DE000A0WMPJ6','DE0006231004','DE000BASF111','DE000A0B65S3','DE000A1K0227','DE000KSAG888','DE0007314007','DE0007472060','DE0007164600','DE000A12UKK6','DE0007236101','DE000SHA0159','DE000WAF3001','DE000PAH0038','DE0005190003','DE0007037129','DE000A2E4K43','DE000PSM7770','DE000A1X3W00','DE0005552004','DE0006632003','DE000UNSE018','DE000A1EWWW0','DE0008430026','DE000A12UP37','DE0005103006','DE000A0WMNK9','DE000A0Z2ZZ5','DE000A1ML7J1','DE0007235301','DE0007493991','DE000A0DNAY5','DE0005137004','DE000A1YCMM2','DE0007297004','DE000KC01000','DE0008019001','DE0005408116','DE0006637200','DE000A1681X5','DE000ZAL1111','DE0005493092','DE000A0JL9W6','DE0005785604','DE0005408884','DE0005545503','DE0005470405','DE000VTG9999','DE0005089031','DE0007276503','DE0006599905','DE000A0JQ5U3','DE0005800601','DE0006062144','DE0006046113','DE000LED4000','DE0007251803','DE000EVNK013','DE0005909006','DE0005439004','DE0007231326','DE0005493365','DE000A111338','DE0006483001','DE000A1X3XX4','DE000A2DAM03','DE0005558696','DE000A1PHFF7','DE0007664005','DE000A0JBPG2','DE000A1K03W5','DE0006602006','DE000A2AADD2','DE0006048432','DE000A0V9L94','DE0006095003','DE000A1X3X33','DE0006305006','DE0006047004','DE000A14KL72','DE0007030009','DE0005772206','DE000A0DJ6J9','DE0006229107','DE000A0STST2','DE0006569908','DE0005190037','DE0005785802','DE0006202005','DE0005790430','DE000A1RFM03','DE0005565204','DE000A13SX22','DE000A0ETBQ4','DE000A1J5RX9','DE0005102008','DE000PAT1AG3','DE000A11QW50','DE0006450000','DE0007074007','DE0006766504','DE0007165631','DE000A0Z2XN6','DE0003304101','DE0005810055','DE0005200000','DE0006916604','DE0007231334','DE000A1A6V48','DE0007257503','DE0005488100','DE0005203947','DE0007788408','DE0005156004','DE0005419105','DE0007037145','DE000A0Z23Q5','DE000KGX8881','DE0005168108','DE0007480204','DE0005895403','DE0006013006','DE0006219934','DE000WCH8881','DE000A0EPUH1','DE000A12B8Z4','DE000A1K0235','DE000A0BVU28','DE000A1K0300','DE0006200108','DE0005232805','DE000A0JL461','DE0005201602','DE0007448508','DE0007856023','DE0008303504','DE0007193500','DE0005104806','DE0005773303','DE0006464506','DE0007507501','DE0006335003','DE0005855183','DE000A0BVU93','DE000A0HN5C6','DE000A0XYGA7','DE0006204407','DE000A0LAUP1','DE0005437305','DE000A1TNUT7','DE000TLX1005','DE0005118806','DE000A2DA588','DE0005407100','DE000A0BVVK7','DE0005158703','DE000LTT0243','DE0005229504','DE0005936124','DE0005313506','DE0006052830','DE0005932735','DE000XNG8888','DE0005313704','DE0007657231','DE0009147207','DE0006452907','DE000A0JRU67','DE0008402215','DE000A0BL849','DE0005227235','DE000WACK012','DE0008051004','DE0007846867','DE000A0D9PT0','DE0005494538','DE0007201907','DE000A0S8488','DE0005550636','DE000A0DPRE6','DE0005093108','DE000TCAG172','DE000A161N30','DE000WNDL110','DE0005220909','DE0005677108','DE0005194062','DE0005111702','DE0005141907','DE0007471195','DE000A1KREX3','DE0005495329','DE0007551400','DE000SKWM021','DE000A1MMCC8','DE0005178008','DE0005008007','DE0005501357','DE0006492903','DE0005428007','DE0006757008','DE000A1JBPV9','DE0006569403','DE0005275507','DE000A0LD2U1','DE0006084403','DE000A0KFKB3','DE0006083405','DE0005634000','DE0005493654','DE0006053952','DE0006968001','DE0005659700','DE0007274136','DE000SYM9999','DE000A11QVV0','DE0003304002','DE0007010803','DE000HLAG475','DE0007170300','DE0007203705','DE0005176903','DE0007461006','DE000A11QW68','DE000A1K0201','DE000LEG1110','DE000A1PHEL8','DE0005403901','DE0006070006','DE0007757007','DE0005066609','DE0005470306','DE000A0Z1JH9','DE0006969603','DE000A14KR50','DE000A1H8MU2','DE0007571424','DE0005167902','DE000STRA555','DE0005759807','DE000A1YDDM9','DE0005878003','DE0005937007','DE000A0CAYB2','DE0006286560','DE0005227201','DE0006636681','DE000A1H8BV3','DE0005291405','DE0001262152','DE0007756009','DE000FPH9000','DE000A12DM80','DE0005196232','DE0007775231','DE000A1X3YY0','DE0005407506','DE0006292030','DE0006614712','DE000A12UL56','DE0005086300','DE0005192801','DE0005157101','DE000A0LD6E6','DE000A1K0409','DE000A1DAHH0','DE0005654933','DE0006851603','DE0007446007','DE0006458003','DE000A0WMJQ4','DE0005156236','DE0005492938','DE0007568578','DE0006275001','DE000A0H52F5','DE0005790406','DE000A13SXB0','DE000A1EMG56','DE0006048408','DE0006131204','DE000A1E8G88','DE0007551509','DE0006042708','DE0005588008','DE0005110001','DE000A0KF6M8','DE0005104400','DE0007229007','DE0007042301','DE000ZDWT018','DE0006455009','DE0007165607','DE000A0XFSF0','DE0005220008','DE0007501009','DE000A11QWW6','DE0005199905','DE0007279507','DE0005146807','DE0006201106','DE0005874846','DE0005228779','DE000A0Z23G6','DE0005775803','DE0007667107','DE000A168114','DE0007257537','DE0005498901','DE0006208408','DE0005774103','DE0005489561','DE0006214687','DE000A1PHBB5','DE0006097108','DE0005272702','DE0006775505','DE0005658009','DE0006954001','DE0006299001','DE0005854343','DE0005859698','DE000A1EMAK2','DE0006578008','DE0006496003','DE000A0M6M79','DE0005751986','DE000A0L1NQ8','DE0006269103','DE0005495626','DE0006292006','DE000A1A6WB2','DE000A1K0375','DE0005009732','DE000RYSE888','DE000A0AHT46','DE000A0JKHG0','DE0008103102','DE000A1YCNB3','DE000A0Z23N2','DE0006553464','DE000A1MMHE3','DE0005021307','DE000SGU8886','DE000A1X3WW8','DE0007018707','DE0005236202','DE000A2BPK91','DE0005250005','DE000A0MW975','DE0005194005','DE0006617400','DE0007016008','DE0006605009','DE000A0LBFE4','DE000A1TNS13','DE0005937031','DE0008055021','DE0005284004','DE0006595101','DE0008045501','DE0007857476','DE0007477531','DE0003304374','DE000A0KFUJ5','DE0006082001','DE0007454209','DE0006053101','DE0007760001','DE000A2E3772','DE0006209901','DE0005009708','DE0007241002','DE0006223605','DE000A1R1C81','DE0005239701','DE000A0EKK20','DE0005251904','DE0005487904','DE0005790331','DE0005790307','DE000A161N14','DE0007477507','DE0006925001','DE0007775207','DE000A2AA204','DE000CHEN993','DE0007504508','DE0005509129','DE0007228009','DE0007240004','DE0007008906','DE000A1EL8Y8','DE0006916406','DE0007458804','DE0007454902','DE0007216707','DE0005070908','DE0006223407','DE000A1TNS70','DE000A1X3X66','DE0006102007','DE0005580005','DE0005483036','DE000A11Q059','DE000A0JL529','DE0005550602','DE0006044001','DE000A0AFGF3','DE000GSW1111','DE000A1MMCY2','DE0006853005','DE0005875306','DE0007239402','DE0005490601','DE000A1E89S5','DE000A14KRD3','DE000A2BPG14','DE000A1A6XX4','DE000A1TNNN5','DE0005754402','DE0007847303','DE0006628100','DE0005081608','DE0005098008','DE000A1RFHN7','DE0005761159','DE000HNC2059','DE0007332207','DE0006911902','DE000A0MF053','DE0005117006','DE0006229503','DE000A1E9A75');

-- HDAX
insert into tindex (name, country_id)
    select 'HDAX', country_id from tcountry where code = 'de';
insert into tstockindex (stock_id, index_id)
    select stock_id, (select index_id from tindex where name = 'HDAX') from tstock where isin in ('DE000CBK1001','DE0005140008','DE0007100000','DE0007664039','DE000A0D6554','DE000BAY0017','DE000ENAG999','DE0008232125','DE0005664809','DE0005557508','DE0007500001','DE0008404005','DE000A0WMPJ6','DE0006231004','DE000BASF111','DE000KSAG888','DE0007472060','DE0007164600','DE0007236101','DE000SHA0159','DE000WAF3001','DE0005190003','DE0007037129','DE000PSM7770','DE000A1X3W00','DE0005552004','DE0006632003','DE000UNSE018','GB0059822006','DE000A1EWWW0','DE0008430026','DE0005103006','DE000A0Z2ZZ5','DE000A1ML7J1','DE0007493991','DE0007297004','DE0008019001','DE0005408116','AT0000A0E9W5','DE000ZAL1111','NL0000235190','DE0005785604','DE0005408884','DE0005545503','DE0005470405','DE0005089031','DE0006599905','DE0005800601','DE0006062144','DE000LED4000','DE0007251803','DE000EVNK013','DE0005909006','DE0005439004','DE000A111338','DE0006483001','DE000A1PHFF7','DE0006602006','DE000A2AADD2','DE0006048432','DE0006047004','DE0007030009','DE0005772206','DE000A0DJ6J9','DE0006229107','DE0005785802','DE0006202005','DE0005790430','DE0005565204','NL0011375019','DE000A13SX22','DE000A1J5RX9','LU0061462528','NL0012169213','DE0006766504','DE0007165631','DE000A0Z2XN6','DE0005810055','DE0005200000','DE0006916604','DE0007257503','DE0005419105','DE000KGX8881','DE0007480204','DE0006219934','DE000WCH8881','DE0008303504','DE0005773303','DE0006335003','DE000A0HN5C6','DE0005437305','DE000TLX1005','DE0005158703','DE000XNG8888','DE0005313704','DE0006452907','DE0008402215','DE000A0D9PT0','DE0005550636','DE0005501357','DE000A0LD2U1','DE000SYM9999','DE0003304002','DE0007010803','DE000LEG1110','DE0006070006','DE0005470306','DE000A1H8BV3','DE000A0LD6E6','DE000A1DAHH0');

-- S&P 500
insert into tindex (name, country_id)
    select 'S&P 500', country_id from tcountry where code = 'us';
insert into tstockindex (stock_id, index_id)
    select stock_id, (select index_id from tindex where name = 'S&P 500') from tstock where isin in ('US0378331005','US0231351067','US30303M1027','US6541061031','US67066G1040','US0079031078','US02079K3059','US3755581036','US5949181045','US0846707026','US02079K1079','US64110L1061','US1912161007','US5951121038','US3696041033','US70450Y1038','US02209S1033','US7427181091','US0605051046','US17275R1023','US3703341046','US7170811035','US4592001014','US3453708600','US5801351017','US0311621009','US2546871060','US4581401001','US00507V1098','US4781601046','US1510201049','US92343V1044','US1729674242','US9043111072','US92532F1003','IE00BY7QL619','PA1436583006','US5007541064','US3021301094','US29364G1031','US92826C8394','US30231G1022','US45337C1027','US20605P1012','US3379321074','US55261F1049','US12650T1043','US1717981013','US30225T1025','US3546131018','US1746101054','US1011211018','IE00BY9D5467','US00206R1023','US8552441094','US09062X1037','US5398301094','US7415034039','CH0048265513','US6516391066','US0718131099','US0758871091','US7134481081','US68389X1054','US4138751056','US3137472060','US2058871029','US8085131055','US2547091080','US2358511028','US24906P1093','US0382221051','US46625H1005','US88579Y1010','US65339F1012','US0970231058','US7475251036','US75886F1075','US61166W1018','US91324P1021','US00287Y1091','US94106L1098','US0527691069','US79466L3024','US4595061015','US3635761097','BMG475671050','US12504L1098','US00724F1012','US0533321024','US8873173038','US14149Y1082','US4404521001','US9497461015','US4165151048','US22822V1017','US4103451021','US3167731005','US2944291051','IE00B6330302','US4461501045','US14040H1059','US3024913036','US1101221083','US9581021055','GB00B5BT0K07','US57636Q1040','US37045V1008','US0126531013','US29414D1000','US16119P1084','US40414L1098','NL0011031208','US9311421039','IE00BTN1Y115','US7181721090','US1941621039','US40434L1052','US2635341090','US2605431038','US6703461052','US6092071058','US30040W1080','US2788651006','US1270971039','BMG491BT1088','US50540R4092','US12572Q1058','US15135B1017','US4698141078','US2333311072','US3434121022','US44107P1049','US0936711052','US5260571048','US2774321002','AN8068571086','IE00B58JVZ52','US0162551016','US0116591092','US4523271090','US7010941042','US3377381088','US8326964058','US35671D8570','US38141G1040','US4370761029','US5770811025','US9182041080','CH0044328745','US9043112062','US6826801036','US21036P1084','US46120E6023','US5324571083','US46284V1017','US23918K1088','US2091151041','US23331A1097','US3724601055','US26441C2044','US0534841012','US1567001060','US1491231015','US2786421030','US4878361082','US8923561067','US28176E1082','US8865471085','US0268747849','US2971781057','US1255091092','US2600031080','US26138E1091','US15189T1079','US3156161024','US92276F1003','US1720621010','US1713401024','US09247X1019','US8636671013','US60871R2094','US6819191064','US8715031089','US9884981013','US4612021034','US4180561072','US31428X1063','CH0102993182','US5486611073','NL0009434992','US0153511094','US2855121099','US52729N3089','US1890541097','US7561091049','US2220702037','US4523081093','US4128221086','US5010441013','US3695501086','US2441991054','US0394831020','US0536111091','US1252691001','US36174X1019','US0673831097','US69351T1060','US30212P3038','US0258161092','US83088M1027','US3448491049','US00817Y1082','US7565771026','US8825081040','US5732841060','US9078181081','SG9999014823','US9668371068','US5128071082','US7743411016','US2166484020','BMG812761002','US0304201033','US00130H1059','US6267171022','US9839191015','US4385161066','US03965L1008','US1667641005','US7551115071','US6668071029','US7512121010','US7607591002','US02376R1023','US5950171042','US12673P1057','US1651671075','US6370711011','US00971T1016','US1696561059','IE00B4BNMY34','US87612E1064','US9113121068','US74736K1016','US74005P1049','US9897011071','US9290421091','IE00BDB6Q211','US92939U1060','US59156R1086','US9314271084','US5184391044','US0530151036','US7617131062','US65473P1057','US6658591044','US78440X1019','US8288061091','US8425871071','US26884L1098','US2567461080','US9139031002','US64110D1046','US6512291062','US5658491064','US0367521038','US12541W2098','IE00BLS09M33','US8243481061','US4448591028','US8816091016','US8168511090','US6935061076','US2810201077','US74251V1026','US29476L1070','US31620M1062','US7588491032','US04621X1081','US4851703029','US5543821012','US6934751057','US74834L1008','US74762E1029','US7127041058','US1431301027','US5404241086','US5717481023','US7433151039','US5018892084','US5341871094','US5745991068','US7703231032','US69331C1080','US4824801009','US92343E1029','US55616P1049','US30219G1085','US7739031091','US3666511072','US43300A2033','US4456581077','IE00BBGT3753','US8936411003','US5797802064','US03027X1000','US40412C1018','US5017971046','US5024131071','GB00BDSFG982','US1773761002','US2473617023','US5246601075','US48203R1041','US6937181088','US5002551043','US20825C1045','US2193501051','US22160K1051','US0374111054','US4606901001','US6556641008','US0311001004','US56585A1025','US0082521081','US0255371017','US0152711091','US03748R1014','US0325111070','US0200021014','US00751Y1064','IE00BFRT3W74','US03073E1055','US0185811082','US0320951017','US0236081024','US0091581068','US9831341071','US9130171096','US3024451011','US8447411088','US34959J1088','US25746U1097','US0758961009','US9694571004','US45168D1046','US8550301027','US4062161017','US25179M1036','US8330341012','US2566771059','US20030N1019','US61945C1036','US96145D1054','US4601461035','US90130A1016','US91913Y1001','US8835561023','US1567821046','US34354P1057','US63938C1080','US5719032022','US0326541051','US34964C1062','US8718291078','US6174464486','US7443201022','US95040Q1040','US12503M1080','US26875P1012','US74144T1088','GB00BWFY5505','IE00B8KQN827','US9029733048','US9633201069','US0584981064','US4278661081','US05329W1027','US0188021085','US7140461093','US2538681030','US49456B1017','US90130A2006','US8969452015','US6200763075','US8832031012','US1266501006','US7782961038','US42824C1099','US7185461040','US0028241000','US61174X1090','US00508Y1029','US23355L1061','US65249B2088','US58933Y1055','US25470M1099','US0640581007','US9841216081','US2003401070','US3848021040','US1344291091','US9621661043','US6311031081','US42809H1077','US7237871071','US6153691059','US7445731067','US3119001044','US7043261079','US8064071025','US98419M1009','US37940X1028','LR0008862868','US59522J1034','US78409V1044','US3647601083','US5926881054','US6512901082','US03076C1062','US00846U1016','US75281A1097','US7591EP1005','US2310211063','US8725401090','US92345Y1064','US74460D1090','US45866F1049','US90384S3031','US6550441058','US1729081059','US1924461023','US1258961002','US03662Q1058','US6558441084','US4943681035','US3825501014','US92553P2011','US8574771031','US8716071076','US4364401012','US7766961061','US25470F3029','US6081901042','US9026531049','US9291601097','US81211K1007','VGG607541015','US49446R1095','US2371941053','US74340W1036','BMG3223R1088','US9418481035','US30161N1019','US2692464017','US9598021098','US7458671010','US91529Y1064','US98310W1080','US7033951036','US98389B1008','US7547301090','US6293775085','US92220P1057','US98956P1021','US98978V1035','US8110651010','US87165B1035','US9113631090','BMG982941046','US6936561009','US4234521015','US8910271043','US4932671088','US65249B1098','US8679141031','US7234841010','US1011371077','US0997241064','US0010551028','US9100471096','US8589121081','US1264081035','US67103H1077','JE00B783TY65','US0865161014','US1156372096','IE00BGH1M568','US8919061098','US29444U7000','CH0114405324','US58155Q1031','US1248572026','US25470F1049','US2910111044','US6745991058','US0549371070','US0572241075','US89417E1091','US80589M1027','US8545021011','US1897541041','US9024941034','US5272881047');

-- Dow Jones
insert into tindex (name, country_id)
    select 'Dow Jones', country_id from tcountry where code = 'us';
insert into tstockindex (stock_id, index_id)
    select stock_id, (select index_id from tindex where name = 'Dow Jones') from tstock where isin in ('US0378331005','US6541061031','US5949181045','US1912161007','US3696041033','US7427181091','US2546871060','US17275R1023','US4592001014','US7170811035','US4581401001','US5801351017','US4781601046','US92826C8394','US30231G1022','US92343V1044','US46625H1005','US38141G1040','US88579Y1010','US0970231058','US1667641005','US9311421039','US2635341090','US1491231015','US4370761029','US0258161092','US91324P1021','US58933Y1055','US9130171096','US89417E1091');

-- NASDAQ
insert into tindex (name, country_id)
    select 'NASDAQ', country_id from tcountry where code = 'us';
insert into tstockindex (stock_id, index_id)
    select stock_id, (select index_id from tindex where name = 'NASDAQ') from tstock where isin in ('US88160R1014','US0378331005','US0231351067','US67066G1040','US30303M1027','US02079K3059','US3755581036','US5949181045','US64110L1061','US02079K1079','US5951121038','US70450Y1038','US17275R1023','US00507V1098','US4581401001','US0311621009','US1510201049','US47215P1066','US5007541064','US92532F1003','US09062X1037','US8552441094','US45337C1027','US7415034039','US0382221051','US75886F1075','US6092071058','IE00B58JVZ52','US24906P1093','US7475251036','US0567521085','US0527691069','US64110W1027','US46120E6023','NL0011031208','IL0010824113','US9581021055','US00724F1012','US5770811025','US0153511094','US22943F1003','US2786421030','US4523271090','US82968B1035','US3377381088','US8725901040','US92857W3088','US8715031089','US8923561067','US83088M1027','US2855121099','US4612021034','US58733R1023','US4180561072','SG9999014823','US8825081040','US02376R1023','US5128071082','US00971T1016','US16119P1084','US5950171042','US9839191015','US30212P3038','US12673P1057','GB00BTC0MD78','US57772K1016','US9314271084','US0530151036','US09061G1013','US2567461080','US82481R1068','US4824801009','US30219G1085','GB00B8W67B19','US4456581077','US1773761002','US6937181088','US22160K1051','US45168D1046','US20030N1019','US90130A1016','US5719032022','US0326541051','US90130A2006','US9831341071','GB00B8W67662','US7782961038','US61174X1090','US25470M1099','US7043261079','US3119001044','US8064071025','US92345Y1064','US53071M1045','BMG667211046','GB00BTC0M714','US90384S3031','US1924461023','US1729081059','US92553P2011','US1567821046','US4364401012','US25470F3029','US1264081035','US67103H1077','US53071M8560','US25470F1049');

-- EURO STOXX 50
insert into tindex (name, country_id)
    values ('EURO STOXX 50', null);
insert into tstockindex (stock_id, index_id)
    select stock_id, (select index_id from tindex where name = 'EURO STOXX 50') from tstock where isin in ('DE0005140008','DE0007100000','DE000BAY0017','DE0007664039','DE000ENAG999','DE0005557508','DE000BASF111','DE0008404005','DE0007164600','DE0007236101','DE0005190003','FI0009000681','DE0005552004','DE000A1EWWW0','DE0008430026','FR0000120271','NL0000235190','DE0005785604','NL0011821202','NL0000009355','IT0000072618','BE0974293251','FR0000120628','ES0178430E18','IT0003132476','ES0113900J37','FR0000125486','FR0010208488','FR0000120578','IT0003128367','FR0000121014','NL0000009538','FR0000130809','FR0000125007','FR0000131104','FR0000120321','FR0000120644','FR0000133308','NL0011794037','ES0144580Y14','ES0148396007','FR0000073272','NL0010273215','FR0000124711','FR0000121667','FR0000120073','FR0000127771','FR0000121972','IE0001827041','ES0113211835');

-- Nikkei
insert into tindex (name, country_id)
    select 'Nikkei', country_id from tcountry where code = 'jp';
insert into tstockindex (stock_id, index_id)
    select stock_id, (select index_id from tindex where name = 'Nikkei') from tstock where isin in ('JP3592200004','JP3436100006','JP3435000009','JP3304200003','JP3866800000','JP3870400003','JP3143600009','JP3463000004','JP3269600007','JP3897700005','JP3271400008','JP3223800008','JP3210200006','JP3598600009','JP3955800002','JP3805010000','JP3900000005','JP3633400001','JP3918000005','JP3663900003','JP3899800001','JP3735400008','JP3894900004','JP3919800007','JP3721600009','JP3493800001','JP3549600009','JP3902400005','JP3429800000','JP3802300008','JP3841800000','JP3351600006','JP3942600002','JP3452000007','JP3876600002','JP3877600001','JP3386030005','JP3574200006','JP3112000009','JP3587600002','JP3201200007','JP3888400003','JP3546800008','JP3569200003','JP3188220002','JP3358800005','JP3729000004','JP3402600005','JP3400900001','JP3180400008','JP3322930003','JP3371200001','JP3599000001','JP3955000009','JP3165600002','JP3548610009','JP3449020001','JP3347200002','JP3585800000','JP3160400002','JP3495000006','JP3194000000','JP3126400005','JP3625000009','JP3165650007','JP3528600004','JP3695200000','JP3165000005','JP3678000005','JP3381000003','JP3366800005','JP3266400005','JP3165700000','JP3240400006','JP3571400005','JP3902900004','JP3891600003','JP3973400009','JP3228600007','JP3686800008','JP3743000006','JP3940000007','JP3134800006','JP3122800000','JP3362700001','JP3762600009','JP3729400006','JP3368000000','JP3300600008','JP3802600001','JP3967200001','JP3932000007','JP3190000004','JP3787000003','JP3720800006','JP3122400009','JP3502200003','JP3249600002','JP3420600003','JP3538800008','JP3733000008','JP3494600004','JP3539220008','JP3119600009','JP3830800003','JP3448000004','JP3726800000','JP3443600006','JP3619800000','JP3209000003','JP3519400000','JP3868400007','JP3256000005','JP3407400005','JP3166000004','JP3174410005','JP3111200006','JP3898400001','JP3258000003','JP3906000009','JP3933800009','JP3242800005','JP3560800009','JP3456000003','JP3780200006','JP3667600005','JP3721400004','JP3890310000','JP3818000006','JP3888300005','JP3305530002','JP3694400007','JP3676800000','JP3596200000','JP3802400006','JP3676200003','JP3670800006','JP3566800003','JP3826800009','JP3595200001','JP3224200000','JP3820000002','JP3792600003','JP3385820000','JP3854600008','JP3814800003','JP3789000001','JP3637300009','JP3893600001','JP3352400000','JP3659000008','JP3718800000','JP3505000004','JP3388200002','JP3672400003','JP3942400007','JP3320800000','JP3551520004','JP3496400007','JP3544000007','JP3951200009','JP3638600001','JP3292200007','JP3903000002','JP3665200006','JP3657400002','JP3511800009','JP3573000001','JP3294460005','JP3205800000','JP3551500006','JP3401400001','JP3404600003','JP3397200001','JP3422950000','JP3421800008','JP3783600004','JP3711200000','JP3629000005','JP3910660004','JP3902000003','JP3409000001','JP3158800007','JP3811000003','JP3788600009','JP3768600003','JP3396350005','JP3942800008','JP3137200006','JP3405400007','JP3582600007','JP3500610005','JP3481800005','JP3476480003','JP3753000003','JP3814000000','JP3351200005','JP3700200003','JP3386450005','JP3289800009','JP3435350008','JP3300200007','JP3116000005','JP3890350006','JP3621000003','JP3635000007','JP3885780001','JP3892100003','JP3827200001','JP3172100004','JP3684000007','JP3475350009','JP3733400000','JP3526600006','JP3386380004','JP3899600005','JP3459600007','JP3305990008','JP3893200000','JP3278600006','JP3863800003','JP3196000008','JP3277800003','JP3597800006','JP3613400005');

-- IBEX
insert into tindex (name, country_id)
    select 'IBEX', country_id from tcountry where code = 'es';
insert into tstockindex (stock_id, index_id)
    select stock_id, (select index_id from tindex where name = 'IBEX') from tstock where isin in ('LU1598757687','ES0178430E18','ES0113900J37','ES0144580Y14','ES0173516115','ES0173093024','ES0148396007','ES0126775032','ES0143416115','ES0113860A34','ES0113211835','ES0111845014','ES0152503035','ES0124244E34','ES0113307062','ES0171996087','ES0132105018','ES0130670112','ES0176252718','ES0130960018','ES0105046009','ES0116870314','ES0109067019','ES0105066007','ES0177542018','ES0118594417','ES0125220311','ES0184262212','ES0178165017','ES0118900010','ES0167050915','ES0113679I37','ES0105025003','ES0140609019','ES0139140174');

-- Hang Seng
insert into tindex (name, country_id)
    values ('Hang Seng', null);
insert into tstockindex (stock_id, index_id)
    select stock_id, (select index_id from tindex where name = 'Hang Seng') from tstock where isin in ('KYG3777B1032','KYG875721634','HK0992009065','GB0005405286','HK0941009539','CNE1000003W8','HK0267001375','HK0016000132','CNE1000002R0','CNE1000003G1','HK0823032773','HK0011000095','HK0000049939','CNE1000002Q2','BMG5320C1082','HK0101000591','HK0836012952','HK0012000102','KYG2953R1149','KYG217651051','HK0066009694','KYG2108Y1052','KYG097021045','HK0002007356','HK0004000045','CNE1000001Z5','HK0017000149','HK2388011192','HK0000069689','HK0688002218','HK0027032686','CNE1000002L3','CNE100000205','HK0083000502','KYG9431R1039','HK0388045442','HK0883013259','CNE1000002H1','BMG2178K1009','HK0003000038','CNE1000003X6','KYG210961051','KYG7800X1079','KYG2103F1019','HK0293001514','HK0019000162','KYG4402L1510','HK0006000050','HK0144000764','HK0023000190');

-- ATX
insert into tindex (name, country_id)
    select 'ATX', country_id from tcountry where code = 'at';
insert into tstockindex (stock_id, index_id)
    select stock_id, (select index_id from tindex where name = 'ATX') from tstock where isin in ('AT0000606306','AT0000743059','AT0000821103','AT0000937503','AT0000809058','AT0000837307','AT0000APOST4','AT0000644505','AT0000652011','AT0000676903','AT0000908504','AT0000730007','AT0000746409','AT00BUWOG001','AT00000VIE62','AT0000831706','AT0000946652','AT0000720008','AT0000641352','AT0000697750');

-- AEX 25
insert into tindex (name, country_id)
    select 'AEX 25', country_id from tcountry where code = 'nl';
insert into tstockindex (stock_id, index_id)
    select stock_id, (select index_id from tindex where name = 'AEX 25') from tstock where isin in ('GB00B03MLX29','LU1598757687','NL0011821202','NL0000009355','NL0000303709','NL0000009538','NL0000379121','NL0011794037','NL0010273215','NL0000009165','NL0000400653','NL0000395903','FR0000124711','NL0011333752','NL0000360618','NL0009432491','NL0000852580','NL0000009132','BE0003818359','NL0011540547','NL0000852564','NL0010773842','NL0000009082','NL0000009827','NL0006144495');

-- Bovespa
insert into tindex (name, country_id)
    select 'Bovespa', country_id from tcountry where code = 'br';
insert into tstockindex (stock_id, index_id)
    select stock_id, (select index_id from tindex where name = 'Bovespa') from tstock where isin in ('BRVALEACNPA3','BRPETRACNPR6','BRCIELACNOR3','BRKROTACNOR9','BRCMIGACNPR3','BRSUZBACNPA3','BRVALEACNOR0','BRGGBRACNPR8','BRQUALACNOR6','BRELETACNPB7','BRNATUACNOR6','BRRENTACNOR4','BRJBSSACNOR8','BRPETRACNOR9','BRBRKMACNPA4','BRBRAPACNPR2','BRCPLEACNPB9','BRUSIMACNPA6','BRMRFGACNOR0','BRELETACNOR6','BRBBDCACNPR8','BRSMLEACNOR1');

-- CAC 40
insert into tindex (name, country_id)
    select 'CAC 40', country_id from tcountry where code = 'fr';
insert into tstockindex (stock_id, index_id)
    select stock_id, (select index_id from tindex where name = 'CAC 40') from tstock where isin in ('FI0009000681','FR0000120271','NL0000235190','LU1598757687','FR0000120628','FR0010208488','FR0000120578','FR0000125486','FR0000121501','FR0000121014','FR0000120644','FR0000124141','FR0000130809','FR0000125007','FR0000120321','FR0000131104','FR0000133308','FR0000131906','FR0000121485','FR0000045072','FR0000121667','CH0012214059','FR0000121220','FR0000073272','FR0000120073','FR0000127771','FR0000051732','FR0000120172','FR0000124711','FR0000121261','FR0013176526','FR0000120503','FR0000121972','FR0000120404','GB00BDSFG982','FR0000125338','BE0003470755','FR0000120693','FR0010307819','FR0000130577');

-- DJ CANADIAN 40
insert into tindex (name, country_id)
    select 'DJ CANADIAN 40', country_id from tcountry where code = 'ca';
insert into tstockindex (stock_id, index_id)
    select stock_id, (select index_id from tindex where name = 'DJ CANADIAN 40') from tstock where isin in ('CA0679011084','CA3809564097','CA0977512007','CA5592224011','CA73755L1076','CA2925051047','CA56501R1064','CA82028K2002','CA5394811015','CA0641491075','CA4530384086','CA7392391016','CA0636711016','CA89353D1078','CA8672241079','CA1363851017','CA05534B7604','CA1125851040','CA8849031056','CA8911605092','CA1363751027','CA13645T1003','CA7800871021','CA29250N1050','CA6330671034','CA8667961053','CA15101Q1081');

-- MEXICO IPC
insert into tindex (name, country_id)
    select 'MEXICO IPC', country_id from tcountry where code = 'mx';
insert into tstockindex (stock_id, index_id)
    select stock_id, (select index_id from tindex where name = 'MEXICO IPC') from tstock where isin in ('MX01WA000038','MX01GE0E0004','MX01LA010006','MXP4948K1056','MX01GF0X0008','MXP000511016','MX01PI000005','MXP001391012','MX01AL0C0004','MXP690491412','MX01IE060002','MXP001661018','MXP2861W1067','MXP370841019','MXP554091415','MX01GA000004','MXP320321310','MXP4987V1378','MXP371491046','MXP495211262','MXP370711014','MXP461181085','MXP225611567','MX01ME050007','MXP001691213','MX01LA040003','MXP606941179','MX01EL000003','MX01OM000018','MX01AC100006','MX01VO000009','MX01OH010006','MX01GS000004','MXP370641013');

-- Update stock weights

UPDATE tstockindex siu SET (percentage) =
(SELECT (l.market_capitalization / tmc.total_market_capitalization) FROM tstockindex si
LEFT JOIN (SELECT si.index_id, sum(l.market_capitalization) AS total_market_capitalization FROM tstockindex si
LEFT JOIN vlevermann l ON si.stock_id = l.stock_id
GROUP BY si.index_id) tmc ON si.index_id = tmc.index_id
LEFT JOIN vlevermann l ON si.stock_id = l.stock_id 
WHERE l.market_capitalization IS NOT NULL AND siu.index_id = si.index_id AND siu.stock_id = si.stock_id);